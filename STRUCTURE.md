# Структура файлов Vue Inspector

Вот полная структура проекта Vue Inspector в виде браузерного расширения:

```
vue-inspector-extension/
├─ manifest.json              # Описание расширения
├─ background.js              # Фоновый скрипт расширения
├─ content.js                 # Скрипт внедрения в страницу
├─ popup/                     # Всплывающее окно расширения
│  ├─ popup.html              # HTML для всплывающего окна
│  ├─ popup.js                # JavaScript для всплывающего окна
│  └─ popup.css               # Стили для всплывающего окна
├─ injected/                  # Файлы для внедрения на страницу
│  ├─ vue-inspector.js        # Основной скрипт инспектора
│  └─ vue-inspector.css       # Стили инспектора
├─ icons/                     # Иконки расширения
│  ├─ icon-16.png             # Иконка 16x16
│  ├─ icon-48.png             # Иконка 48x48
│  ├─ icon-128.png            # Иконка 128x128
│  ├─ icon-disabled-16.png    # Иконка отключенного состояния 16x16
│  ├─ icon-disabled-48.png    # Иконка отключенного состояния 48x48
│  └─ icon-disabled-128.png   # Иконка отключенного состояния 128x128
├─ LICENSE                    # Лицензия проекта
├─ README.md                  # Основное описание проекта
└─ INSTALLATION.md            # Подробная инструкция по установке
```

## Описание ключевых файлов

### Основные файлы расширения

- **manifest.json**: Конфигурация расширения для браузера. Определяет разрешения, скрипты, иконки и другие настройки.
- **background.js**: Фоновый скрипт, который работает в контексте расширения. Управляет состоянием расширения, обрабатывает сообщения от content.js и popup.js.
- **content.js**: Скрипт, который внедряется на все посещаемые страницы. Обнаруживает Vue и внедряет инспектор при необходимости.

### Всплывающее окно

- **popup/popup.html**: HTML-структура всплывающего окна, которое появляется при клике на иконку расширения.
- **popup/popup.js**: JavaScript для управления интерфейсом всплывающего окна.
- **popup/popup.css**: Стили всплывающего окна.

### Внедряемые скрипты

- **injected/vue-inspector.js**: Основной скрипт инспектора, который внедряется на страницу. Содержит логику инспектирования компонентов Vue, отображения данных, перемещения окна и т.д.
- **injected/vue-inspector.css**: Стили инспектора, внедряемые на страницу.

### Иконки

- **icons/icon-\*.png**: Набор иконок разных размеров для отображения в панели браузера.
- **icons/icon-disabled-\*.png**: Набор иконок для отображения, когда Vue не обнаружен на странице.

### Документация

- **README.md**: Основной файл документации с описанием возможностей, инструкциями по установке и использованию.
- **INSTALLATION.md**: Подробная инструкция по установке расширения для разных браузеров.
- **LICENSE**: Файл лицензии проекта.

## Как это работает

1. **Обнаружение Vue**:

   - **content.js** внедряется на страницу и ищет признаки наличия Vue
   - При обнаружении Vue отправляет сообщение в **background.js**

2. **Внедрение инспектора**:

   - **content.js** добавляет на страницу **vue-inspector.js** и **vue-inspector.css**
   - **vue-inspector.js** создает DOM-элементы для инспектора и добавляет обработчики событий

3. **Управление состоянием**:

   - **background.js** отслеживает состояние инспектора (включен/выключен)
   - **popup.js** взаимодействует с **background.js** для отображения текущего состояния и его изменения

4. **Инспектирование компонентов**:

   - **vue-inspector.js** добавляет метод `$inspectComponent` во все компоненты Vue
   - При активации инспектора (Alt+Click или вызов `$inspectComponent`), извлекаются props и data компонента
   - Информация отображается в окне инспектора

5. **Сохранение настроек**:
   - Состояние, позиция, размер и другие настройки сохраняются в localStorage
   - При перезагрузке страницы состояние восстанавливается
